<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>select option change</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous" />
</head>

<body>
    <div class="container mt-5">
        <div class="row">
            <form action="">
                <div class="form-row">
                    <div class="form-group mr-3">
                        <select name="city" id="city" class="form-control">
                            <option value="0">基隆</option>
                            <option value="1">台北</option>
                            <option value="2">新北</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <select name="district" id="district" class="form-control">
                            <option value="0">七堵區</option>
                            <option value="1">中正區</option>
                            <option value="2">暖暖區</option>
                        </select>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script>
        let districtObj = [
            ["七堵", "中正", "暖暖"],  //“基隆”：["七堵", "中正", "暖暖"],  複雜一點就會用key,value
            ["中正", "大安", "信義"],
            ["蘆洲", "三重", "新店"],
        ];

        // if ($("#city option[value]").change()) {
        //     //     // console.log($("#city option[value='1']"));
        //     //     // console.log("hi");
        //     //     // console.log(districtObj[2]);
        //     //     // $("#district")
        //     //     // console.log($("option[value='1']"));
        //     //     // console.log($("#district option"));

        //     //     // $("#district option[value='1']").empty().append(districtObj[1][1]);
        //     //     // $("#district option[value='0']").empty().append(districtObj[1][0]);
        //     //     // $("#district option[value='2']").empty().append(districtObj[1][2]);

        //     //     $("#district option[value]").empty().append(districtObj);
        // };





        // districtObj[$city value][$this value]
        $("#city").change(function () {

            console.log('city', $(this).val()); //也可以用text()判斷
            const city = $(this).val();
            $("#district option").each(function () {
                // $(this),text(districtObj[$(this).val()][$(this).val()]); 
                //後面兩個this會拿到option的this，會錯，所以上面要加上const city = $(this).val()
                //city不打算再變，所以用const,會有變動就可以用let
                $(this).text(districtObj[city][$(this).val()]);
            });
        });

        $("#district").change(function () {
            console.log("city", $("#city").val());
            console.log("district data:", districtObj[$("#city").val()])
        });





    </script>
</body>

</html>